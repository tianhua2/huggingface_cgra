# ููุฎุต ุงููุญููุงุช

[[open-in-colab]]

ูู ูุฐู ุงูุตูุญุฉุ ุณูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ุนูููุฉ ุงูุชุญููู.

<Youtube id="VFp38yj8h3A"/>

ููุง ุฑุฃููุง ูู [ุจุฑูุงูุฌ ุชุนูููู ุญูู ุงููุนุงูุฌุฉ ุงููุณุจูุฉ](preprocessing)ุ ูุฅู ุชุญููู ุงููุต ููุณูู ุฅูู ูููุงุช ุฃู
ุงูุฑููุฒ ุงููุฑุนูุฉุ ูุงูุชู ูุชู ุจุนุฏ ุฐูู ุชุญููููุง ุฅูู ูุนุฑูุงุช ูู ุฎูุงู ุฌุฏูู ุจุญุซ. ูุนุฏ ุชุญููู ุงููููุงุช ุฃู ุงูุฑููุฒ ุงููุฑุนูุฉ ุฅูู ูุนุฑูุงุช
ูุจุงุดุฑูุงุ ูุฐุง ูู ูุฐุง ุงูููุฎุตุ ุณูุฑูุฒ ุนูู ุชูุณูู ุงููุต ุฅูู ูููุงุช ุฃู ุฑููุฒ ูุฑุนูุฉ (ุฃู ุชุญููู ุงููุต).
ูุจุดูู ุฃูุซุฑ ุชุญุฏูุฏูุงุ ุณูููู ูุธุฑุฉ ุนูู ุงูุฃููุงุน ุงูุซูุงุซุฉ ุงูุฑุฆูุณูุฉ ูู ุงููุญููุงุช ุงููุณุชุฎุฏูุฉ ูู ๐ค ุงููุญููุงุช: [ุชุฑููุฒ ุงูุฃุฒูุงุฌ ุงูุจุงูุชูุฉ
(BPE)](#byte-pair-encoding)ุ [WordPiece](#wordpiece)ุ ู [SentencePiece](#sentencepiece)ุ ููุนุฑุถ ุฃูุซูุฉ
ุนูู ููุน ุงููุญูู ุงูุฐู ูุณุชุฎุฏูู ูู ูููุฐุฌ.

ูุงุญุธ ุฃูู ูู ูู ุตูุญุฉ ูููุฐุฌุ ููููู ุงูุงุทูุงุน ุนูู ูุซุงุฆู ุงููุญูู ุงููุฑุชุจุท ููุนุฑูุฉ ููุน ุงููุญูู
ุงูุฐู ุงุณุชุฎุฏูู ุงููููุฐุฌ ุงูููุฏุฑุจ ูุณุจููุง. ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ูุธุฑูุง ุฅูู [`BertTokenizer`]ุ ูููููุง ุฃู ูุฑู
ุฃู ุงููููุฐุฌ ูุณุชุฎุฏู [WordPiece](#wordpiece).

## ููุฏูุฉ

ุฅู ุชูุณูู ุงููุต ุฅูู ุฃุฌุฒุงุก ุฃุตุบุฑ ูู ูููุฉ ุฃุตุนุจ ููุง ุชุจุฏูุ ูููุงู ุทุฑู ูุชุนุฏุฏุฉ ููููุงู ุจุฐูู.
ุนูู ุณุจูู ุงููุซุงูุ ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ุงูุฌููุฉ `"Don't you love ๐ค Transformers? We sure do."`

<Youtube id="nhJxYji1aho"/>

ุชุชูุซู ุฅุญุฏู ุงูุทุฑู ุงูุจุณูุทุฉ ูุชุญููู ูุฐุง ุงููุต ูู ุชูุณููู ุญุณุจ ุงููุณุงูุงุชุ ูุงูุฐู ูู ุดุฃูู ุฃู ูุนุทู:

```
["Don't", "you", "love", "๐ค", "Transformers?", "We", "sure", "do."]
```

ูุฐู ุฎุทูุฉ ุฃููู ูุนูููุฉุ ูููู ุฅุฐุง ูุธุฑูุง ุฅูู ุงูุฑููุฒ `"Transformers?"` ู `"do."`ุ ูุฅููุง ููุงุญุธ ุฃู
ุนูุงูุงุช ุงูุชุฑููู ููุญูุฉ ุจุงููููุงุช `"Transformer"` ู `"do"`ุ ููู ุฃูุฑ ุบูุฑ ูุซุงูู. ูุฌุจ ุฃู ูุฃุฎุฐ
ุนูุงูุงุช ุงูุชุฑููู ูู ุงูุงุนุชุจุงุฑ ุญุชู ูุง ูุถุทุฑ ุงููููุฐุฌ ุฅูู ุชุนูู ุชูุซูู ูุฎุชูู ูููููุฉ ููู ุฑูุฒ ุชุฑููู ูุญุชูู
ูุฏ ููููุงุ ุงูุฃูุฑ ุงูุฐู ูู ุดุฃูู ุฃู ูููุฌุฑ ุนุฏุฏ ุงูุชูุซููุงุช ุงูุชู ูุฌุจ ุนูู ุงููููุฐุฌ ุชุนูููุง.
ูุน ูุฑุงุนุงุฉ ุนูุงูุงุช ุงูุชุฑูููุ ูุฅู ุชุญููู ูุตูุง ุงููุซุงูู ุณูุนุทู:

```
["Don", "'", "t", "you", "love", "๐ค", "Transformers", "?", "We", "sure", "do", "."]
```

ุฃูุถู. ููุน ุฐููุ ูู ุบูุฑ ุงูููุงุฆู ููููุฉ ุชุนุงูู ุงูุชุญููู ูุน ุงููููุฉ `"Don't"`. `"Don't"` ุชุนูู
`"do not"`ุ ูุฐุง ุณูููู ูู ุงูุฃูุถู ุชุญููููุง ุนูู ุฃููุง `["Do"ุ "n't"]`. ููุง ุชุจุฏุฃ ุงูุฃููุฑ ูู ุงูุชุนููุฏุ
ููู ุฌุฒุก ูู ุณุจุจ ุงูุชูุงู ูู ูููุฐุฌ ูููุน ุงููุญูู ุงูุฎุงุต ุจู. ุงุนุชูุงุฏูุง ุนูู ุงูููุงุนุฏ ุงูุชู ูุทุจููุง ูุชุญููู ุงููุตุ
ูุชู ุฅูุดุงุก ุฅุฎุฑุงุฌ ูุญูู ูุฎุชูู ูููุณ ุงููุต. ูู ูุคุฏู ุงููููุฐุฌ ุงูููุฏุฑุจ ูุณุจููุง ุฅูู ุงูุฃุฏุงุก ุจุดูู ุตุญูุญ ุฅูุง ุฅุฐุง ููุช ุจุฅุทุนุงูู
ุชู ุชุญููู ุงูุฅุฏุฎุงู ุจุงุณุชุฎุฏุงู ููุณ ุงูููุงุนุฏ ุงูุชู ุชู ุงุณุชุฎุฏุงููุง ูุชุญููู ุจูุงูุงุช ุงูุชุฏุฑูุจ ุงูุฎุงุตุฉ ุจู.

[spaCy](https://spacy.io/) ู [ููุณู](http://www.statmt.org/moses/?n=Development.GetStarted) ููุง ูุญููุงู ูุงุฆูุงู ุนูู ุงูููุงุนุฏ
ุดุงุฆุนุงู. ุนูุฏ ุชุทุจูููุง ุนูู ูุซุงููุงุ ูุฅู *spaCy* ู *Moses* ุณุชุฎุฑุฌ ุดูุฆูุง ูุซู:

```
["Do", "n't", "you", "love", "๐ค", "Transformers", "?", "We", "sure", "do", "."]
```
```
["Do", "n't", "you", "love", "๐ค", "Transformers", "?", "We", "sure", "do", "."]
```

ููุง ููููู ุฃู ุชุฑูุ ูุชู ููุง ุงุณุชุฎุฏุงู ุงูุชุญููู ุงูููุงูู ูุนูุงูุงุช ุงูุชุฑูููุ ููุฐูู ุงูุชุญููู ุงููุงุฆู ุนูู ุงูููุงุนุฏ. ูุนุฏ ุงูุชุญููู ุงูููุงูู ูุนูุงูุงุช ุงูุชุฑููู ูุงูุชุญููู ุงููุงุฆู ุนูู ุงูููุงุนุฏ ููุงููุง ูุซุงููู ุนูู ุชุญููู ุงููููุงุชุ ูุงูุฐู ูุชู ุชุนุฑููู ุจุดูู ูุถูุงุถ
ูุชูุณูู ุงูุฌูู ุฅูู ูููุงุช. ูู ุญูู ุฃููุง ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุจุฏูููุฉ ูุชูุณูู ุงููุตูุต ุฅูู ุฃุฌุฒุงุก ุฃุตุบุฑุ
ูููู ุฃู ุชุคุฏู ุทุฑููุฉ ุงูุชุญููู ูุฐู ุฅูู ูุดููุงุช ููุฌููุนุงุช ุงููุตูุต ุงูุถุฎูุฉ. ูู ูุฐู ุงูุญุงูุฉุ ุนุงุฏุฉู ูุง ูุคุฏู ุงูุชุญููู ุงูููุงูู ูุนูุงูุงุช ุงูุชุฑููู
ุฅูู ุฅูุดุงุก ููุฑุฏุงุช ูุจูุฑุฉ ุฌุฏูุง (ูุฌููุนุฉ ูู ุฌููุน ุงููููุงุช ูุงูุฑููุฒ ุงููุฑูุฏุฉ ุงููุณุชุฎุฏูุฉ). ุนูู ุณุจูู ุงููุซุงูุ ูุณุชุฎุฏู [Transformer XL](model_doc/transfo-xl) ุงูุชุญููู ุงูููุงูู ูุนูุงูุงุช ุงูุชุฑูููุ ููุง ูุคุฏู ุฅูู ุญุฌู ููุฑุฏุงุช ูุจูุบ 267735!

ููุฑุถ ุญุฌู ุงูููุฑุฏุงุช ุงููุจูุฑ ูุฐุง ุนูู ุงููููุฐุฌ ุฃู ูููู ูุฏูู ูุตูููุฉ ุชุถููู ุถุฎูุฉ ูุทุจูุฉ ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌุ ููุง
ูุคุฏู ุฅูู ุฒูุงุฏุฉ ูู ูู ุงูุชุนููุฏ ุงูุฒููู ูุงูุฐุงูุฑุฉ. ุจุดูู ุนุงูุ ูุงุฏุฑูุง ูุง ูููู ูุฏู ููุงุฐุฌ ุงููุญููุงุช ุญุฌู ููุฑุฏุงุช
ุฃูุจุฑ ูู 50000ุ ุฎุงุตุฉ ุฅุฐุง ุชู ุชุฏุฑูุจูุง ูุณุจููุง ุนูู ูุบุฉ ูุงุญุฏุฉ ููุท.

ูุฐุง ุฅุฐุง ูุงู ุงูุชุญููู ุงูููุงูู ูุนูุงูุงุช ุงูุชุฑููู ุงูุจุณูุทุฉ ุบูุฑ ูุฑุถูุฉุ ูููุงุฐุง ูุง ูููู ุจุจุณุงุทุฉ ุจุงูุชุญููู ุนูู ุงูุฃุญุฑูุ

<Youtube id="ssLq_EK2jLE"/>

ูู ุญูู ุฃู ุชุญููู ุงูุฃุญุฑู ุจุณูุท ููุบุงูุฉ ููู ุดุฃูู ุฃู ูููู ุจุดูู ูุจูุฑ ูู ุงูุชุนููุฏ ุงูุฒููู ูุงูุฐุงูุฑุฉุ ุฅูุง ุฃูู ูุฌุนู ูู ุงูุตุนุจ
ุนูู ุงููููุฐุฌ ุชุนูู ุชูุซููุงุช ุงููุฏุฎูุงุช ุฐุงุช ูุนูู. ุนูู ุณุจูู ุงููุซุงูุ ูุนุฏ ุชุนูู ุชูุซูู ูุณุชูู ุนู ุงูุณูุงู
ููุญุฑู "t" ุฃูุซุฑ ุตุนูุจุฉ ูู ุชุนูู ุชูุซูู ูุณุชูู ุนู ุงูุณูุงู ููููุฉ
"ุงูููู". ูุฐููุ ุบุงูุจูุง ูุง ูููู ุชุญููู ุงูุฃุญุฑู ูุตุญูุจูุง ุจููุฏุงู ุงูุฃุฏุงุก. ูุฐุง ููุญุตูู ุนูู ุฃูุถู ูุง ูู
ุงูุนุงููููุ ุชุณุชุฎุฏู ููุงุฐุฌ ุงููุญููุงุช ุชูุฌูููุง ุจูู ุชุญููู ูุณุชูู ุงููููุฉ ูุชุญููู ูุณุชูู ุงูุฃุญุฑู ูุณูู ุชุญููู **subword**.

## ุชุญููู subword

<Youtube id="zHvTiHr506c"/>

ุชุนุชูุฏ ุฎูุงุฑุฒููุงุช ุชุญููู subword ุนูู ุงููุจุฏุฃ ุงููุงุฆู ุจุฃู ุงููููุงุช ุงููุณุชุฎุฏูุฉ ุจุดูู ูุชูุฑุฑ ูุง ููุจุบู ุชูุณูููุง ุฅูู
ุฑููุฒ ูุฑุนูุฉ ุฃุตุบุฑุ ูููู ูุฌุจ ุชุญููู ุงููููุงุช ุงููุงุฏุฑุฉ ุฅูู ุฑููุฒ ูุฑุนูุฉ ุฐุงุช ูุนูู. ุนูู ุณุจูู ุงููุซุงูุ ูุฏ ูุชู ุงุนุชุจุงุฑ "annoyingly"
ูููุฉ ูุงุฏุฑุฉ ููููู ุชุญููููุง ุฅูู "annoying" ู "ly". ูู ูู "annoying" ู "ly"
ูู subwords ูุณุชููุฉ ุณุชุธูุฑ ุจุดูู ูุชูุฑุฑ ุฃูุซุฑ ูู ุญูู ุฃู ูุนูู "annoyingly" ูุชู ุงูุงุญุชูุงุธ ุจู ูู ุฎูุงู
ุงููุนูู ุงููุฑูุจ ูู "annoying" ู "ly". ูุฐุง ูููุฏ ุจุดูู ุฎุงุต ูู ุงููุบุงุช ุงูุชุฑุงุตูุฉ ูุซู ุงูุชุฑููุฉุ
ุญูุซ ููููู ุชุดููู ูููุงุช ุทูููุฉ (ุชูุฑูุจูุง) ุจุดูู ุชุนุณูู ุนู ุทุฑูู ุฑุจุท ุงูุฑููุฒ ุงููุฑุนูุฉ ูุนูุง.

ูุณูุญ ุชุญููู subword ูููููุฐุฌ ุจุฃู ูููู ูู ุญุฌู ููุฑุฏุงุช ูุนููู ูุน ุงููุฏุฑุฉ ุนูู ุชุนูู
ุชูุซููุงุช ูุณุชููุฉ ุนู ุงูุณูุงู ุฐุงุช ูุนูู. ุจุงูุฅุถุงูุฉ ุฅูู ุฐููุ ููููู ุชุญููู subword ุงููููุฐุฌ ูู ูุนุงูุฌุฉ ุงููููุงุช ุงูุชู ูู ูุณุจู ูู
ุฑุคูุชูุง ูู ูุจูุ ุนู ุทุฑูู ุชุญููููุง ุฅูู ุฑููุฒ ูุฑุนูุฉ ูุนุฑููุฉ. ุนูู ุณุจูู ุงููุซุงูุ ูููู ุงููุญูู [`~transformers.BertTokenizer`] ุจุชุญููู
"ูุฏู GPU ุฌุฏูุฏ!" ููุง ููู:

```py
>>> from transformers import BertTokenizer

>>> tokenizer = BertTokenizer.from_pretrained("google-bert/bert-base-uncased")
>>> tokenizer.tokenize("I have a new GPU!")
["i", "have", "a", "new", "gp", "##u", "!"]
```

ูุธุฑูุง ูุฃููุง ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงููููุฐุฌ ุบูุฑ ุงููุญุฏุฏุ ููุฏ ุชู ุชุญููู ุงูุฌููุฉ ุฅูู ุฃุญุฑู ุตุบูุฑุฉ ุฃููุงู. ูููููุง ุฃู ูุฑู ุฃู ุงููููุงุช `["i"ุ "have"ุ "a"ุ "new"]` ููุฌูุฏุฉ ูู ููุฑุฏุงุช ุงููุญููุ ูููู ุงููููุฉ "gpu" ุบูุฑ ููุฌูุฏุฉ. ูุจุงูุชุงููุ ูููู ุงููุญูู ุจุชูุณูู "gpu" ุฅูู ุฑููุฒ ูุฑุนูุฉ ูุนุฑููุฉ: `["gp" ู "##u"]`. ูุนูู "##" ุฃูู ูุฌุจ
ุฑุจุท ุจููุฉ ุงูุฑูุฒ ุจุงูุฑูุฒ ุงูุณุงุจูุ ุฏูู ูุณุงูุฉ (ููุชุฑููุฒ ุฃู ุนูุณ ุงูุชุญููู).

ููุซุงู ุขุฎุฑุ ูููู ุงููุญูู [`~transformers.XLNetTokenizer`] ุจุชุญููู ูุตูุง ุงููุซุงูู ููุง ููู:

```py
>>> from transformers import XLNetTokenizer

>>> tokenizer = XLNetTokenizer.from_pretrained("xlnet/xlnet-base-cased")
>>> tokenizer.tokenize("Don't you love ๐ค Transformers? We sure do.")
["โDon", "'", "t", "โyou", "โlove", "โ"ุ "๐ค"ุ "โ"ุ "Transform"ุ "ers"ุ "ุ"ุ "โWe"ุ "โsure"ุ "โdo"ุ "."]
```
ุณูุนูุฏ ุฅูู ูุนูู ุชูู `"โ"` ุนูุฏูุง ูููู ูุธุฑุฉ ุนูู [SentencePiece](#sentencepiece). ููุง ููููู ุฃู ุชุฑูุ
ุชู ุชูุณูู ุงููููุฉ ุงููุงุฏุฑุฉ "Transformers" ุฅูู ุงูุฑููุฒ ุงููุฑุนูุฉ ุงูุฃูุซุฑ ุชูุฑุงุฑูุง `"Transform"` ู `"ers"`.

ุฏุนูุง ุงูุขู ูููู ูุธุฑุฉ ุนูู ููููุฉ ุนูู ุฎูุงุฑุฒููุงุช ุชุญููู subword ุงููุฎุชููุฉ. ูุงุญุธ ุฃู ุฌููุน ุฎูุงุฑุฒููุงุช ุงูุชุญููู
ูุฐู ุชุนุชูุฏ ุนูู ุจุนุถ ุฃุดูุงู ุงูุชุฏุฑูุจ ุงูุฐู ูุชู ุนุงุฏุฉู ุนูู ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูุชู ุณูุชู ุชุฏุฑูุจูุง
ุงููููุฐุฌ ุงูููุงุจู ุนููู.

<a id='byte-pair-encoding'></a>

### ุชุฑููุฒ ุงูุฃุฒูุงุฌ ุงูุจุงูุชูุฉ (BPE)

ุชู ุชูุฏูู ุชุฑููุฒ ุงูุฃุฒูุงุฌ ุงูุจุงูุชูุฉ (BPE) ูู [ุงูุชุฑุฌูุฉ ุงูุขููุฉ ุงูุนุตุจูุฉ ูููููุงุช ุงููุงุฏุฑุฉ ุจุงุณุชุฎุฏุงู ูุญุฏุงุช subword (Sennrich et
al.ุ 2015)](https://arxiv.org/abs/1508.07909). ูุนุชูุฏ BPE ุนูู ูุญูู ูุณุจู ููุณู ุจูุงูุงุช ุงูุชุฏุฑูุจ ุฅูู
ูููุงุช. ูููู ุฃู ูููู ุงูุชุญููู ุงููุณุจู ุจุณูุทูุง ูุซู ุงูุชุญููู ุงูููุงููุ ุนูู ุณุจูู ุงููุซุงู [GPT-2](model_doc/gpt2)ุ [RoBERTa](model_doc/roberta). ุชุดูู ุงูุชุญูููุงุช ุงููุณุจูุฉ ุงูุฃูุซุฑ ุชูุฏููุง ุงูุชุญููู ุงููุงุฆู ุนูู ุงูููุงุนุฏุ ุนูู ุณุจูู ุงููุซุงู [XLM](model_doc/xlm)ุ
[FlauBERT](model_doc/flaubert) ุงูุฐู ูุณุชุฎุฏู ููุณู ููุนุธู ุงููุบุงุชุ ุฃู [GPT](model_doc/openai-gpt) ุงูุฐู ูุณุชุฎุฏู
spaCy ู ftfyุ ูุญุณุงุจ ุชูุฑุงุฑ ูู ูููุฉ ูู ูุฌููุนุฉ ุจูุงูุงุช ุงูุชุฏุฑูุจ.

ุจุนุฏ ุงูุชุญููู ุงููุณุจูุ ูุชู ุฅูุดุงุก ูุฌููุนุฉ ูู ุงููููุงุช ุงููุฑูุฏุฉ ููุฏ ุชู ุชุญุฏูุฏ ุชูุฑุงุฑ ูู ูููุฉ ูู
ุชู ุชุญุฏูุฏ ุจูุงูุงุช ุงูุชุฏุฑูุจ. ุจุนุฏ ุฐููุ ูููู BPE ุจุฅูุดุงุก ููุฑุฏุงุช ุฃุณุงุณูุฉ ุชุชููู ูู ุฌููุน ุงูุฑููุฒ ุงูุชู ุชุญุฏุซ ูู ูุฌููุนุฉ ุงููููุงุช ุงููุฑูุฏุฉ ููุชุนูู ููุงุนุฏ ุงูุฏูุฌ ูุชุดููู ุฑูุฒ ุฌุฏูุฏ ูู ุฑูุฒูู ูู ุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉ. ุฅูู ููุนู ุฐูู ุญุชู
ุชุตู ุงูููุฑุฏุงุช ุฅูู ุญุฌู ุงูููุฑุฏุงุช ุงููุทููุจ. ูุงุญุธ ุฃู ุญุฌู ุงูููุฑุฏุงุช ูู ูุฑุท ูุนููุฉ ูุชุญุฏูุฏ
ูุจู ุชุฏุฑูุจ ุงููุญูู.

ููุซุงูุ ุฏุนูุง ููุชุฑุถ ุฃูู ุจุนุฏ ุงูุชุญููู ุงููุณุจูุ ุชู ุชุญุฏูุฏ ูุฌููุนุฉ ุงููููุงุช ุงูุชุงููุฉ ุจูุง ูู ุฐูู ุชูุฑุงุฑูุง:

```
("hug", 10), ("pug", 5), ("pun", 12), ("bun", 4), ("hugs", 5)
```

ูุจุงูุชุงููุ ูุฅู ุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉ ูู `["b"ุ "g"ุ "h"ุ "n"ุ "p"ุ "s"ุ "u"]`. ูู ุฎูุงู ุชูุณูู ุฌููุน ุงููููุงุช ุฅูู ุฑููุฒ ูู
ุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉุ ูุญุตู ุนูู:

```
("h" "u" "g"ุ 10)ุ ("p" "u" "g"ุ 5)ุ ("p" "u" "n"ุ 12)ุ ("b" "u" "n"ุ 4)ุ ("h" "u" "g" "s"ุ 5)
```

ุจุนุฏ ุฐููุ ูููู BPE ุจุนุฏุฏ ูุฑุงุช ุญุฏูุซ ูู ุฒูุฌ ูู ุงูุฑููุฒ ุงููุญุชููุฉ ููุฎุชุงุฑ ุฒูุฌ ุงูุฑููุฒ ุงูุฐู ูุญุฏุซ ุจุดูู ูุชูุฑุฑ. ูู
ูู ุงููุซุงู ุฃุนูุงูุ ูุญุฏุซ "h" ูุชุจูุนูุง ุจู "u" _10 + 5 = 15_ ูุฑุฉ (10 ูุฑุงุช ูู 10 ูุฑุงุช
ุญุฏูุซ "hug"ุ 5 ูุฑุงุช ูู 5 ูุฑุงุช ุญุฏูุซ "hugs"). ููุน ุฐููุ ูุฅู ุฃูุซุฑ ุฃุฒูุงุฌ ุงูุฑููุฒ ุดููุนูุง ูู "u" ูุชุจูุนูุง
ุจูุงุณุทุฉ "g"ุ ูุงูุชู ุชุญุฏุซ _10 + 5 + 5 = 20_ ูุฑุฉ ูู ุงููุฌููุน. ูุจุงูุชุงููุ ูุฅู ุฃูู ูุงุนุฏุฉ ุฏูุฌ ูุชุนูููุง ุงููุญูู ูู ุชุฌููุน ุฌููุน
ุฑููุฒ "u" ุงูุชู ุชุชุจุนูุง "g" ูุนูุง. ุจุนุฏ ุฐููุ ูุชู ุฅุถุงูุฉ "ug" ุฅูู ุงูููุฑุฏุงุช. ุชุตุจุญ ูุฌููุนุฉ ุงููููุงุช

```
("h" "ug"ุ 10)ุ ("p" "ug"ุ 5)ุ ("p" "u" "n"ุ 12)ุ ("b" "u" "n"ุ 4)ุ ("h" "ug" "s"ุ 5)
```

ุจุนุฏ ุฐููุ ูุญุฏุฏ BPE ุซุงูู ุฃูุซุฑ ุฃุฒูุงุฌ ุงูุฑููุฒ ุดููุนูุง. ุฅูู "u" ูุชุจูุนูุง ุจู "n"ุ ูุงูุฐู ูุญุฏุซ 16 ูุฑุฉ. "u"ุ
ูุชู ุฏูุฌ "n" ูู "un" ููุถุงู ุฅูู ุงูููุฑุฏุงุช. ุซุงูุซ ุฃูุซุฑ ุฃุฒูุงุฌ ุงูุฑููุฒ ุดููุนูุง ูู "h" ูุชุจูุนูุง
ุจูุงุณุทุฉ "ug"ุ ูุงูุชู ุชุญุฏุซ 15 ูุฑุฉ. ูุฑุฉ ุฃุฎุฑู ูุชู ุฏูุฌ ุงูุฒูุฌ ููุชู ุฅุถุงูุฉ "hug" ุฅูู ุงูููุฑุฏุงุช.

ูู ูุฐู ุงููุฑุญูุฉุ ุชููู ุงูููุฑุฏุงุช ูู `["b"ุ "g"ุ "h"ุ "n"ุ "p"ุ "s"ุ "u"ุ "ug"ุ "un"ุ "hug"]` ููุฌููุนุฉ ุงููููุงุช ุงููุฑูุฏุฉ ูุฏููุง
ุชูุซููู ููุง ููู:

```
("hug", 10), ("p" "ug", 5), ("p" "un", 12), ("b" "un", 4), ("hug" "s", 5)
```

ุจุงูุชุฑุงุถ ุฃู ุชุฏุฑูุจ ุชุฑููุฒ ุงูุฃุฒูุงุฌ ุงูุจุงูุชูุฉ ุณูุชููู ุนูุฏ ูุฐู ุงูููุทุฉุ ูุณูุชู ุชุทุจูู ููุงุนุฏ ุงูุฏูุฌ ุงูุชู ุชู ุชุนูููุง
ุจุนุฏ ุฐูู ุนูู ูููุงุช ุฌุฏูุฏุฉ (ุทุงููุง ุฃู ูุฐู ุงููููุงุช ุงูุฌุฏูุฏุฉ ูุง ุชุดูู ุฑููุฒูุง ูู ุชูู ูู ุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉ). ุนูู ุณุจูู ุงููุซุงูุ
ุณูุชู ุชุญููู ูููุฉ "bug" ุฅูู `["b"ุ "ug"]` ูููู ุณูุชู ุชุญููู "mug" ุนูู ุฃููุง `["<unk>"ุ "ug"]` ูุธุฑูุง ูุฃู
ุงูุฑูุฒ "m" ุบูุฑ ููุฌูุฏ ูู ุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉ. ุจุดูู ุนุงูุ ูุง ูุชู ุงุณุชุจุฏุงู ุงูุฃุญุฑู ุงููุฑุฏูุฉ ูุซู "m" ุจุงูุฑูุฒ
"<unk>" ูุฃู ุจูุงูุงุช ุงูุชุฏุฑูุจ ุชุชุถูู ุนุงุฏุฉู ุญุฏูุซูุง ูุงุญุฏูุง ุนูู ุงูุฃูู ููู ุญุฑูุ ูููู ูู ุงููุญุชูู ุฃู ูุญุฏุซ ุฐูู
ูุฑููุฒ ุฎุงุตุฉ ุฌุฏูุง ูุซู ุงูุฑููุฒ ุงูุชุนุจูุฑูุฉ.
ููุง ุฐูุฑูุง ุณุงุจููุงุ ูุฅู ุญุฌู ุงูููุฑุฏุงุชุ ุฃู ุญุฌู ุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉ + ุนุฏุฏ ุนูููุงุช ุงูุฏูุฌุ ูู ูุฑุท ูุนููุฉ
ูุงุฎุชูุงุฑ. ุนูู ุณุจูู ุงููุซุงูุ ูุฏู [GPT](model_doc/openai-gpt) ุญุฌู ููุฑุฏุงุช ูุจูุบ 40478 ููุฐ ุฃู ูุงู ูุฏููู 478 ุญุฑููุง ุฃุณุงุณููุง
ูุงุฎุชุงุฑูุง ุงูุชููู ุนู ุงูุชุฏุฑูุจ ุจุนุฏ 40000 ุนูููุฉ ุฏูุฌ.

#### ุชุฑููุฒ ุงูุฃุฒูุงุฌ ุงูุจุงูุชูุฉ ุนูู ูุณุชูู ุงูุจุงูุช

ูุฏ ุชููู ุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉ ุงูุชู ุชุชุถูู ุฌููุน ุงูุฃุญุฑู ุงูุฃุณุงุณูุฉ ูุจูุฑุฉ ุฌุฏูุง ุฅุฐุง *ุนูู ุณุจูู ุงููุซุงู* ุชู ุงุนุชุจุงุฑ ุฌููุน ุฃุญุฑู ุงูููููููุฏ
ูุฃุญุฑู ุฃุณุงุณูุฉ. ูุฐุงุ ููููู ูุฏูู ููุฑุฏุงุช ุฃุณุงุณูุฉ ุฃูุถูุ ูุณุชุฎุฏู [GPT-2](https://cdn.openai.com/better-language-models/language_models_are_unsupervised_multitask_learners.pdf) ุงูุจุงูุชุงุช
ูุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉุ ููู ุญููุฉ ุฐููุฉ ูุฅุฌุจุงุฑ ุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉ ุนูู ุฃู ุชููู ุจุญุฌู 256 ูุน ุถูุงู
ุฃู ูุชู ุชุถููู ูู ุญุฑู ุฃุณุงุณู ูู ุงูููุฑุฏุงุช. ูุน ุจุนุถ ุงูููุงุนุฏ ุงูุฅุถุงููุฉ ููุชุนุงูู ูุน ุนูุงูุงุช ุงูุชุฑูููุ ูููู ููุญูู GPT2
ุชุญููู ุฃู ูุต ุฏูู ุงูุญุงุฌุฉ ุฅูู ุฑูุฒ <unk>. ูุฏู [GPT-2](model_doc/gpt) ุญุฌู ููุฑุฏุงุช ูุจูุบ 50257ุ ูุงูุฐู ูุชูุงูู ูุน ุฑููุฒ 256 base byteุ ูุฑูุฒ ุฎุงุต ูููุงูุฉ ุงููุต ูุงูุฑููุฒ ุงูุชู ุชู ุชุนูููุง ุจุงุณุชุฎุฏุงู 50000 ุนูููุฉ ุฏูุฌ.

<a id='wordpiece'></a>

### WordPiece

WordPiece ูู ุฎูุงุฑุฒููุฉ ุชูููุฒ subword ุงููุณุชุฎุฏูุฉ ูู [BERT](model_doc/bert)ุ [DistilBERT](model_doc/distilbert)ุ ู [Electra](model_doc/electra). ุชู ุชูุถูุญ ุงูุฎูุงุฑุฒููุฉ ูู [ุงูุจุญุซ ุงูุตูุชู ุงููุงุจุงูู ูุงูููุฑู
(Schuster et al.ุ 2012)](https://static.googleusercontent.com/media/research.google.com/ja//pubs/archive/37842.pdf) ููู ูุดุงุจู ุฌุฏูุง
BPE. ุฃููุงูุ ูููู WordPiece ุจุชูููู ุงูููุฑุฏุงุช ูุชุถููู ูู ุญุฑู ููุฌูุฏ ูู ุจูุงูุงุช ุงูุชุฏุฑูุจ
ูุชุนูู ุชุฏุฑูุฌูุงู ุนุฏุฏูุง ูุนูููุง ูู ููุงุนุฏ ุงูุฏูุฌ. ุนูู ุนูุณ BPEุ ูุง ูุฎุชุงุฑ WordPiece ุฃูุซุฑ
ุฒูุฌ ุงูุฑููุฒ ุงููุชูุฑุฑุฉุ ูููู ุชูู ุงูุชู ุชุฒูุฏ ูู ุงุญุชูุงู ุจูุงูุงุช ุงูุชุฏุฑูุจ ุจูุฌุฑุฏ ุฅุถุงูุชูุง ุฅูู ุงูููุฑุฏุงุช.

ูุฐุงุ ูุงุฐุง ูุนูู ูุฐุง ุจุงูุถุจุทุ ุจุงูุฅุดุงุฑุฉ ุฅูู ุงููุซุงู ุงูุณุงุจูุ ูุฅู ุฒูุงุฏุฉ ุงุญุชูุงู ุจูุงูุงุช ุงูุชุฏุฑูุจ ุชุนุงุฏู ุฅูุฌุงุฏ ุฒูุฌ ุงูุฑููุฒุ ุงูุฐู ูููู ุงุญุชูุงู ุชูุณููู ุนูู ุงุญุชูุงูุงุช ุฑูุฒู ุงูุฃูู ุชูููุง
ุฑูุฒู ุงูุซุงูู ูู ุงูุฃูุจุฑ ุจูู ุฌููุน ุฃุฒูุงุฌ ุงูุฑููุฒ. *ูุซุงู* `"u"`ุ ุชูููุง `"g"` ูุงูุช ูุฏ ุงูุฏูุฌุช ููุท ุฅุฐุง ูุงู ุงุญุชูุงู `"ug"` ููุณูููุง ุนูู `"u"`ุ `"g"` ูุงู ุณูููู ุฃูุจุฑ ูู ุฃู ุฒูุฌ ุขุฎุฑ
ูู ุงูุฑููุฒ. ุจุฏููููุงุ WordPiece ูุฎุชูู ููููุงู ุนู BPE ูู ุฃูู ูููู ูุง ูููุฏู ุนู ุทุฑูู ุฏูุฌ ุฑูุฒูู
ููุชุฃูุฏ ูู ุฃูู ูุณุชุญู ุฐูู.

<a id='unigram'></a>

### Unigram

Unigram ูู ุฎูุงุฑุฒููุฉ ุชููููุฒ subword ุงูุชู ุชู ุชูุฏูููุง ูู [ุชูุธูู subword: ุชุญุณูู ููุงุฐุฌ ุงูุชุฑุฌูุฉ ุงูุดุจูุฉ ุงูุนุตุจูุฉ
ููุงุฐุฌ ูุน ูุฑุดุญูู subword ูุชุนุฏุฏุฉ (Kudoุ 2018)](https://arxiv.org/pdf/1804.10959.pdf). ุนูู ุนูุณ BPE ุฃู
WordPieceุ ูููู Unigram ุจุชูููู ููุฑุฏุงุชู ุงูุฃุณุงุณูุฉ ุฅูู ุนุฏุฏ ูุจูุฑ ูู ุงูุฑููุฒ ููููููุง ุชุฏุฑูุฌูุงู ููุญุตูู ุนูู ููุฑุฏุงุช ุฃุตุบุฑ. ูููู ุฃู ุชุชูุงูู ุงูููุฑุฏุงุช ุงูุฃุณุงุณูุฉ ุนูู ุณุจูู ุงููุซุงู ูุน ุฌููุน ุงููููุงุช ุงููุณุจูุฉ ุงูุชูููุฒ ูุงูุณูุงุณู ุงููุฑุนูุฉ ุงูุฃูุซุฑ ุดููุนูุง. ูุง ูุชู ุงุณุชุฎุฏุงู Unigram ูุจุงุดุฑุฉ ูุฃู ูู ุงูููุงุฐุฌ ูู ุงููุญููุงุชุ ููููู ูุณุชุฎุฏู ุจุงูุงูุชุฑุงู ูุน [SentencePiece](#sentencepiece).

ูู ูู ุฎุทูุฉ ุชุฏุฑูุจุ ูุญุฏุฏ ุฎูุงุฑุฒููุฉ Unigram ุฎุณุงุฑุฉ (ุบุงูุจูุง ูุง ูุชู ุชุนุฑูููุง ุนูู ุฃููุง ุงูููุบุงุฑูุชู) ุนุจุฑ ุจูุงูุงุช ุงูุชุฏุฑูุจ ุจุงููุธุฑ ุฅูู ุงูููุฑุฏุงุช ุงูุญุงููุฉ ููููุฐุฌ ุงููุบุฉ unigram. ุจุนุฏ ุฐููุ ุจุงููุณุจุฉ ููู ุฑูุฒ ูู ุงูููุฑุฏุงุชุ ูุญุณุจ ุงูุฎูุงุฑุฒููุฉ ููุฏุงุฑ ุฒูุงุฏุฉ ุงูุฎุณุงุฑุฉ ุงูุฅุฌูุงููุฉ ุฅุฐุง ุชู ุฅุฒุงูุฉ ุงูุฑูุฒ ูู ุงูููุฑุฏุงุช. ุซู ูููู Unigram ุจุฅุฒุงูุฉ p (ูุน p ุนุงุฏุฉ ูุง ุชููู 10% ุฃู 20%) ูู ุงููุงุฆุฉ ูู ุงูุฑููุฒ ุงูุชู ุชููู ุฒูุงุฏุฉ ุงูุฎุณุงุฑุฉ ูููุง ูู ุงูุฃุฏููุ *ุฃู* ุชูู
ุงูุฑููุฒ ุงูุชู ุชุคุซุฑ ุฃูู ุนูู ุงูุฎุณุงุฑุฉ ุงูุฅุฌูุงููุฉ ุนุจุฑ ุจูุงูุงุช ุงูุชุฏุฑูุจ. ุชุชูุฑุฑ ูุฐู ุงูุนูููุฉ ุญุชู ุชุตู ุงูููุฑุฏุงุช ุฅูู ุงูุญุฌู ุงููุทููุจ. ูุญุชูุธ ุฎูุงุฑุฒููุฉ Unigram ุฏุงุฆููุง ุจุงูุดุฎุตูุงุช ุงูุฃุณุงุณูุฉ ุจุญูุซ ูููู ุชูููุฒ ุฃู ูููุฉ.

ูุธุฑูุง ูุฃู Unigram ูุง ูุนุชูุฏ ุนูู ููุงุนุฏ ุงูุฏูุฌ (ุนูู ุนูุณ BPE ูWordPiece)ุ ูุฅู ููุฎูุงุฑุฒููุฉ ุนุฏุฉ ุทุฑู
ุชูููุฒ ูุต ุฌุฏูุฏ ุจุนุฏ ุงูุชุฏุฑูุจ. ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ูุงู ูุญูู Unigram ุงููุฏุฑุจ ูุนุฑุถ ุงูููุฑุฏุงุช:

```
["b"ุ "g"ุ "h"ุ "n"ุ "p"ุ "s"ุ "u"ุ "ug"ุ "un"ุ "hug"]ุ
```

ูููู ุชูููุฒ `"hugs"` ุนูู ุฃูู `["hug"ุ "s"]`ุ ุฃู `["h"ุ "ug"ุ "s"]` ุฃู `["h"ุ "u"ุ "g"ุ "s"]`. ุฅุฐู ูุงุฐุง
ูุงุฎุชูุงุฑุ ูุญูุธ Unigram ุงุญุชูุงู ูู ุฑูุฒ ูู ูููู ุงูุชุฏุฑูุจ ุจุงูุฅุถุงูุฉ ุฅูู ุญูุธ ุงูููุฑุฏุงุช ุจุญูุซ
ูููู ุญุณุงุจ ุงุญุชูุงู ูู ุชูููุฒ ูููู ุจุนุฏ ุงูุชุฏุฑูุจ. ุจุจุณุงุทุฉุ ูุฎุชุงุฑ ุงูุฎูุงุฑุฒููุฉ ุงูุฃูุซุฑ
ุชูููุฒ ุงููุญุชููุฉ ูู ุงูููุงุฑุณุฉุ ููููู ูููุฑ ุฃูุถูุง ุฅููุงููุฉ ุฃุฎุฐ ุนููุงุช ูู ุชูููุฒ ูููู ููููุง ูุงุญุชูุงูุงุชูุง.

ุชุชู ุชุนุฑูู ูุฐู ุงูุงุญุชูุงูุงุช ุจูุงุณุทุฉ ุงูุฎุณุงุฑุฉ ุงูุชู ูุชู ุชุฏุฑูุจ ุงููุญูู ุนูููุง. ุจุงูุชุฑุงุถ ุฃู ุจูุงูุงุช ุงูุชุฏุฑูุจ ุชุชููู
ูู ุงููููุงุช \\(x_{1}ุ \dotsุ x_{N}\\) ูุฃู ูุฌููุนุฉ ุฌููุน ุงูุชูููุฒุงุช ุงูููููุฉ ููููุฉ \\(x_{i}\\) ูู
ูุชู ุชุนุฑูููุง ุนูู ุฃููุง \\(S(x_{i})\\)ุ ุซู ูุชู ุชุนุฑูู ุงูุฎุณุงุฑุฉ ุงูุฅุฌูุงููุฉ ุนูู ุงููุญู ุงูุชุงูู

$$\mathcal{L} = -\sum_{i=1}^{N} \log \left ( \sum_{x \in S(x_{i})} p(x) \right )$$

<a id='sentencepiece'></a>

### SentencePiece

ุชุญุชูู ุฌููุน ุฎูุงุฑุฒููุงุช ุชูููุฒ ุงูููุตููุฉ ุญุชู ุงูุขู ุนูู ููุณ ุงููุดููุฉ: ูู ุงูููุชุฑุถ ุฃู ุงููุต ุงููุฏุฎู ูุณุชุฎุฏู ุงููุณุงูุงุช ููุตู ุงููููุงุช. ููุน ุฐููุ ูุง ุชุณุชุฎุฏู ุฌููุน ุงููุบุงุช ุงููุณุงูุงุช ููุตู ุงููููุงุช. ุฃุญุฏ ุงูุญููู ุงูููููุฉ ูู ุงุณุชุฎุฏุงู ุงููุบุฉ
ูุญุฏุฏ ูุณุจู ูุญุฏุฏุ *ูุซุงู* [XLM](model_doc/xlm) ูุณุชุฎุฏู ูุญุฏุฏูุง ุตููููุง ููุงุจุงูููุง ูุชุงููุงูุฏููุง ูุญุฏุฏูุง ูุณุจููุง.
ูุญู ูุฐู ุงููุดููุฉ ุจุดูู ุนุงูุ [SentencePiece: A simple and language independent subword tokenizer and
detokenizer for Neural Text Processing (Kudo et al.ุ 2018)](https://arxiv.org/pdf/1808.06226.pdf) ูุชุนุงูู ูุน ุงูุฅุฏุฎุงู
ูุชุฏูู ุฅุฏุฎุงู ุฎุงูุ ูุจุงูุชุงูู ูุดูู ุงููุณุงูุฉ ูู ูุฌููุนุฉ ุงูุฃุญุฑู ุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง. ุซู ูุณุชุฎุฏู ุฎูุงุฑุฒููุฉ BPE ุฃู unigram
ูุฅูุดุงุก ุงูููุฑุฏุงุช ุงูููุงุณุจุฉ.

ูุณุชุฎุฏู [`XLNetTokenizer`] SentencePiece ุนูู ุณุจูู ุงููุซุงูุ ููู ุฃูุถูุง ุณุจุจ ุชุถููู
ุชู ุชุถููู ุญุฑู `"โ"` ูู ุงูููุฑุฏุงุช. ูู ุงูุชุดููุฑ ุจุงุณุชุฎุฏุงู SentencePiece ุณูู ููุบุงูุฉ ูุธุฑูุง ูุฃูู ูููู ุฏุงุฆููุง ุฏูุฌ ุงูุฑููุฒ ูุงุณุชุจุฏุงู `"โ"` ุจูุณุงูุฉ.

ุชุณุชุฎุฏู ุฌููุน ููุงุฐุฌ ุงููุญููุงุช ูู ุงูููุชุจุฉ ุงูุชู ุชุณุชุฎุฏู SentencePiece ุจุงูุงูุชุฑุงู ูุน unigram. ุฃูุซูุฉ ุนูู ุงูููุงุฐุฌ
ุจุงุณุชุฎุฏุงู SentencePiece ูู [ALBERT](model_doc/albert)ุ [XLNet](model_doc/xlnet)ุ [Marian](model_doc/marian)ุ ู [T5](model_doc/t5).